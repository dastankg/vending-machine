# –°–∏–º—É–ª—è—Ç–æ—Ä –¢–æ—Ä–≥–æ–≤–æ–≥–æ –ê–≤—Ç–æ–º–∞—Ç–∞

Django-–ø—Ä–æ–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–∏–º—É–ª–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞ —Å API –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º. –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å
–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã, —Å–æ–≤–µ—Ä—à–∞—Ç—å –ø–æ–∫—É–ø–∫–∏ –∏ –ø–æ–ª—É—á–∞—Ç—å —Å–¥–∞—á—É.

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `env_example` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

```
# Django –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
SECRET_KEY=         # Django Secret key
DEBUG=              # True –¥–ª—è —Ä–µ–∂–∏–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, False –¥–ª—è production

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL
DB_ENGINE=          # Database engine (–∏–ª–∏ storage engine )
DB_NAME=            # –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DB_USER=            # –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è PostgreSQL
DB_PASSWORD=        # –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è PostgreSQL
DB_HOST=            # –•–æ—Å—Ç –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
DB_DOCKER_HOST=     # –•–æ—Å—Ç –¥–ª—è Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
DB_PORT=            # –ü–æ—Ä—Ç PostgreSQL
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Docker

–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```
git clone <url-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è>
cd vending-machine
```

–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```
touch .env
```

–°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:

```
docker-compose up -d
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö.

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
OpenAPI (Swagger) –ø–æ API –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://0.0.0.0:8000/docs
## üîå API Endpoints

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤

```
GET /api/products/
```

–û—Ç–≤–µ—Ç:

```json
[
  {
    "id": "a8098c1a-f86e-11da-bd1a-00112444be1e",
    "name": "–ö–æ–∫–∞-–ö–æ–ª–∞",
    "price": 150.00,
    "count": 10
  },
  {
    "id": "b3498d2b-f86e-11da-bd1a-00112444be1e",
    "name": "–ß–∏–ø—Å—ã",
    "price": 120.00,
    "count": 15
  },
  {
    "id": "c5672e3c-f86e-11da-bd1a-00112444be1e",
    "name": "–®–æ–∫–æ–ª–∞–¥–∫–∞",
    "price": 80.00,
    "count": 20
  }
]
```

### –ü–æ–∫—É–ø–∫–∞ —Ç–æ–≤–∞—Ä–∞

```
POST /api/products/purchase/
```

–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:

```json
{
  "product_id": "a8098c1a-f86e-11da-bd1a-00112444be1e",
  "quantity": 1,
  "money": 200.00
}
```

–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200 OK):

```json
{
  "message": "Purchase successful",
  "products": {
    "name": "–ö–æ–∫–∞-–ö–æ–ª–∞",
    "price": 150.00,
    "remaining_count": 9
  },
  "quantity": 1,
  "remaining_money": 50.00
}
```

–û—Ç–≤–µ—Ç—ã —Å –æ—à–∏–±–∫–∞–º–∏:

- –¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω (400 Bad Request):

```json
{
  "product_id": [
    "–£–∫–∞–∑–∞–Ω–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç."
  ]
}
```

- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ (400 Bad Request):

```json
{
  "money": [
    "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤. –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 1999.98"
  ]
}
```

- –¢–æ–≤–∞—Ä –∑–∞–∫–æ–Ω—á–∏–ª—Å—è (400 Bad Request):

```json
{
  "quantity": [
    "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ —Å–∫–ª–∞–¥–µ."
  ]
}
```
